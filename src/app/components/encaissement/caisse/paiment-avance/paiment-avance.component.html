<div class="content-wrapper" xmlns="http://www.w3.org/1999/html">
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0">Paiement en Avance </h1>
        </div>

        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a routerLink="/encaissement/dashboard">Home</a></li>
            <li class="breadcrumb-item active">Paiement Avance</li>
          </ol>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="container-fluid">
      <div class="row col-12">
        <div class="col-12 table-responsive" style="height: 300px;">
          <table class="table table-hover table-striped table-head-fixed">
            <thead>
            <tr>
              <th>Reference</th>
              <th>ID Client</th>
              <th>Produit</th>
              <th>N° Téléphone</th>
              <th> Pourcentage Payé (%)</th>
              <th>Date Limite</th>
              <th>Montant</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let facture of listFacture" (dblclick)="selectFacture(facture)"
                [class.bg-gradient-lightblue]="facture.idFacture ===factureSelected?.idFacture">
              <td><span
                class="flex justify-content-around mr-5 text-bold">{{facture.refFacture}}</span>
              </td>
              <td><span class="flex justify-content-sm-center mr-5 ">{{facture.identifiant}}</span>
              <td><span class="flex justify-content-sm-start mr-5 ">{{facture.produit | titlecase}}</span>
              </td>
              <td>
                <ng-container>
                  <i class="fas fa-phone"></i> {{ facture.nappel }}
                </ng-container>

              </td>
              <td>
                <p-progressBar *ngIf="getProgressBarColor(calculPercent(facture))==='orange'"
                               [style]="{ height: '15px',width:'160px'}" [showValue]="true"
                               color="orange"
                               [value]='calculPercent(facture)'></p-progressBar>
                <p-progressBar *ngIf="getProgressBarColor(calculPercent(facture))==='purple'"
                               [style]="{ height: '15px',width:'160px'}" [showValue]="true"
                               color="#078fa1"
                               [value]='calculPercent(facture)'></p-progressBar>
                <p-progressBar *ngIf="getProgressBarColor(calculPercent(facture))==='green'"
                               [style]="{ height: '15px',width:'160px'}" [showValue]="true"
                               color="#119b11"
                               [value]='calculPercent(facture)'></p-progressBar>
              </td>


              <td><span class="flex justify-content-sm-start ">{{facture.datLimPai |date: 'MM/dd/yyyy' }}</span>
              </td>


              <td><span class="flex justify-content-around  text-bold"> {{facture.montant | number: '1.3-3'}} <small> TND</small></span>
              </td>

            </tr>
            </tbody>
          </table>
        </div>
      </div>


      <div class="row">
        <div class="col-sm-11 mx-auto">
          <div class="card card-default">


            <div class="card-body">
              <div class="text-center">
                <h3>Effectuer un Paiement</h3>
              </div>

              <div class="row mt-6">
                <div class="col-sm-3">
                  <strong>- Reference:</strong>

                  {{ factureSelected?.refFacture }}

                </div>
                <div class="col-sm-3">
                  <strong>- Produit:</strong>
                  {{ factureSelected?.produit }}
                </div>
                <div class="col-sm-3">
                  <strong>- Compte:</strong>
                  {{ factureSelected?.compteFacturation }}
                </div>
                <div class="col-sm-3">
                  <strong>- Téléphone:</strong>
                  {{ factureSelected?.nappel }}
                </div>
              </div>

              <div class="row mt-4">
                <div class="col-sm-3">
                  <strong>- ID Client:</strong>
                  {{ factureSelected?.identifiant }}
                </div>
                <div class="col-sm-3">
                  <strong>- Type:</strong>
                  {{ factureSelected?.typeIdent }}
                </div>
                <div class="col-sm-3">
                  <strong>- Code Client:</strong>
                  {{ factureSelected?.codeClient }}
                </div>
              </div>


              <div class="mx-auto col-sm-11 border-2 border-blue-700  mt-4 " style="background-color: aliceblue">
                <div class="row justify-content-end mt-2 mb-3">
                  <div class="col-sm-3">
                    <strong>Date Limite:</strong>
                    {{ factureSelected?.datLimPai }}
                  </div>
                  <div class="col-sm-3">
                    <strong>Remise (%):</strong>
                    {{ factureSelected?.solde }} %
                  </div>
                  <div class="col-sm-3">
                    <strong>Montant : </strong>
                    <span class="text-bold">{{ factureSelected?.montant | number: '1.3-3' }}</span> TND
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer ">
              <div class=" col-sm-12 ">
                <button class=" float-right btn btn-link p-0 m-0"> Reset</button>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
